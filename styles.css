
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: radial-gradient(circle at top left, #fef9c3 0, #f5f5f4 35%, #e5e7eb 100%);
  color: #111827;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: inherit; text-decoration: none; }
a:hover { text-decoration: underline; }

img { max-width: 100%; display: block; }

button { font-family: inherit; cursor: pointer; }

/* ---------------------------
   Layout global
   --------------------------- */
.app-wrapper {
  min-height: 100vh;
  display: flex;
  background: linear-gradient(100deg, #f9fafb 0, #f9fafb 35%, #e5e7eb 35%, #e5e7eb 100%);
}

/* ---------------------------
   Sidebar
   --------------------------- */
.sidebar {
  width: 240px;
  background-color: #f5f5f4;
  border-right: 1px solid rgba(148, 163, 184, 0.3);
  padding: 1.5rem 1.25rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.sidebar-header { display: flex; align-items: center; gap: 0.75rem; }

.sidebar-logo-mark {
  width: 40px; height: 40px; border-radius: 999px;
  background: radial-gradient(circle at 30% 20%, #fee2e2, #fb923c);
  display: flex; align-items: center; justify-content: center;
  font-size: 1.2rem; box-shadow: 0 10px 25px rgba(0,0,0,0.18);
  color: #4f46e5;
}

.sidebar-title { display: flex; flex-direction: column; }
.sidebar-app-name { font-size: 0.95rem; font-weight: 600; letter-spacing: .08em; text-transform: uppercase; }
.sidebar-app-subtitle { font-size: .8rem; color: #6b7280; }

.sidebar-nav ul { list-style: none; margin:0; padding:0; display:flex; flex-direction:column; gap:.25rem; }

.nav-link {
  display:flex; align-items:center; gap:.7rem;
  padding:.6rem .8rem; border-radius:999px; font-size:.9rem; color:#4b5563;
  transition: background-color .18s, color .18s, transform .1s;
}
.nav-icon {
  width:26px; height:26px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
  font-size:1rem; background-color:#e5e7eb;
}
.nav-link:hover { background-color: rgba(15,23,42,0.04); color:#111827; transform: translateX(2px); }
.nav-link.active { background-color:#111827; color:#f9fafb; }
.nav-link.active .nav-icon { background-color:#f9fafb; color:#111827; }

/* ---------------------------
   Colonne principale & topbar
   --------------------------- */
.main-column { flex:1; display:flex; flex-direction:column; min-width:0; }

.topbar {
  position: sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:.8rem 1.5rem; backdrop-filter: blur(12px);
  background-color: rgba(249,250,251,0.9);
  border-bottom: 1px solid rgba(148,163,184,0.35);
}

.topbar-left { display:flex; align-items:center; gap:.75rem; }

.sidebar-toggle {
  display: none; border: none; background: transparent;
  font-size: 1.4rem; padding:.1rem .35rem; border-radius:999px;
  color:#111827; cursor:pointer;
}

.topbar-logo { display:flex; align-items:center; gap:.5rem; }
.topbar-logo-mark { width:26px; height:26px; border-radius:999px; background: radial-gradient(circle at 30% 20%, #bfdbfe, #6366f1); box-shadow: 0 8px 18px rgba(79,70,229,0.6); }
.topbar-logo-text { font-size:.9rem; font-weight:600; letter-spacing:.08em; text-transform:uppercase; }

.topbar-right { display:flex; align-items:center; gap:1rem; }

.navbar-icon {
  position:relative; cursor:pointer; width:36px; height:36px; border-radius:50%;
  display:flex; align-items:center; justify-content:center; color:#4b5563; transition: background-color .2s;
}
.navbar-icon:hover { background-color: rgba(0,0,0,0.05); }

.dropdown { position:relative; }
.dropdown-menu {
  display:none; position:absolute; top:100%; right:0; background:#fff; border:1px solid #e5e7eb; border-radius:8px;
  padding:.5rem 0; min-width:120px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); z-index:100;
}
.dropdown-menu.show { display:block; }
.dropdown-menu a { display:block; padding:.5rem 1rem; color:#374151; text-decoration:none; transition: background-color .2s; }
.dropdown-menu a:hover { background-color: #f3f4f6; }

.topbar-user { display:flex; align-items:center; gap:.6rem; }
.topbar-user-avatar {
  width:32px; height:32px; border-radius:999px;
  background: linear-gradient(135deg, #4f46e5, #ec4899); color:#fff;
  display:flex; align-items:center; justify-content:center; font-weight:600; font-size:.9rem;
}
.topbar-user-info { display:flex; flex-direction:column; }
.topbar-username { font-size:.88rem; font-weight:500; }
.topbar-role { font-size:.75rem; color:#9ca3af; }

.topbar-logout {
  border-radius:999px; border:1px solid #ef4444; padding:.35rem .85rem; font-size:.8rem;
  background:#fef2f2; color:#b91c1c; cursor:pointer; display:flex; align-items:center; gap:.5rem;
  transition: background-color .15s, color .15s, transform .1s;
}
.topbar-logout:hover { background:#ef4444; color:#fef2f2; transform: translateY(-1px); }

/* ---------------------------
   Dashboard
   --------------------------- */
.dashboard-main { padding: 1.5rem 1.6rem 1.8rem; display:flex; flex-direction:column; gap:1.4rem; }

.dashboard-header { display:flex; align-items:flex-start; justify-content:space-between; gap:1rem; }
.dashboard-title-block { max-width:420px; }

.dashboard-title { margin:0 0 .3rem; font-size:1.6rem; font-weight:600; }
.dashboard-title span { color:#4f46e5; }

.dashboard-subtitle { margin:0; font-size:.9rem; color:#6b7280; }
.dashboard-breadcrumb { display:flex; align-items:center; gap:.4rem; font-size:.8rem; color:#9ca3af; }
.breadcrumb-item.active { color:#374151; }

.kpi-section { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:.9rem; }
.kpi-card {
  background:#fff; border-radius:18px; padding:.9rem 1rem; box-shadow:0 18px 40px rgba(15,23,42,.08);
  display:flex; flex-direction:column; gap:.4rem;
}
.kpi-header { display:flex; align-items:center; justify-content:space-between; }
.kpi-label { font-size:.78rem; text-transform:uppercase; letter-spacing:.12em; color:#9ca3af; }
.kpi-icon { width:30px; height:30px; border-radius:999px; background:#eef2ff; display:inline-flex; align-items:center; justify-content:center; color:#4f46e5; }
.kpi-value { font-size:1.4rem; font-weight:600; }
.kpi-footer { font-size:.78rem; color:#6b7280; }

.dashboard-grid { display:grid; grid-template-columns: minmax(0, 2.1fr) minmax(0, 1.3fr); gap:1.2rem; align-items:flex-start; }
/* Si la grille n'a qu'une seule colonne d'éléments (ex. suppression de la sélection du jour),
   faire occuper la colonne analytique toute la largeur */
.dashboard-grid > .analytics-panel:only-child { grid-column: 1 / -1; }

/* Styles de la section "Sélection du jour" supprimés */

/* Styles des listes de la section "Sélection du jour" supprimés */

.analytics-panel { display:flex; flex-direction:column; gap:1.1rem; }
.charts-section { background:#fff; border-radius:22px; padding:1.1rem 1.2rem; box-shadow:0 18px 44px rgba(15,23,42,.12); }
.charts-title { margin:0 0 .6rem; font-size:1rem; font-weight:600; }
.chart-card { margin-top:.7rem; }
.chart-title { margin:0 0 .3rem; font-size:.9rem; color:#4b5563; }
.chart-card canvas { width:100%; max-height:190px; }

.dashboard-footer { margin-top:.4rem; font-size:.8rem; color:#9ca3af; }

/* ---------------------------
   Login
   --------------------------- */
.login-page { min-height:100vh; display:flex; align-items:stretch; justify-content:center; }

.login-hero {
  flex:1.1; background: linear-gradient(145deg, #fef3c7 0, #e5e7eb 50%, #d1fae5 100%);
  padding:2.5rem 2.25rem; display:flex; align-items:center; justify-content:center;
}
.login-hero-inner { max-width:380px; }
.login-logo-circle {
  width:46px; height:46px; border-radius:999px; background: radial-gradient(circle at 30% 20%, #fee2e2, #fb923c);
  box-shadow:0 12px 30px rgba(0,0,0,.18); margin-bottom:1.3rem;
}
.login-hero-title { margin:0 0 .4rem; font-size:1.8rem; font-weight:600; letter-spacing:.06em; text-transform:uppercase; }
.login-hero-subtitle { margin:0; font-size:.95rem; line-height:1.5; color:#4b5563; }

.login-main { flex:1; display:flex; align-items:center; justify-content:center; padding:2.5rem 1.75rem; }
.login-card {
  width:100%; max-width:420px; background:#fff; border-radius:24px;
  box-shadow:0 24px 60px rgba(15,23,42,.15); padding:2.1rem 2rem 1.8rem; display:flex; flex-direction:column; gap:1.4rem;
}
.login-card-header h2 { margin:0 0 .4rem; font-size:1.35rem; font-weight:600; }
.login-card-subtitle { margin:0; font-size:.9rem; color:#6b7280; }

.login-form { display:flex; flex-direction:column; gap:.95rem; }
.login-form .form-group { display:flex; flex-direction:column; gap:.25rem; }
.login-form .form-group label { font-size:.9rem; font-weight:500; color:#374151; }
.login-form .form-group input {
  padding:.6rem .8rem; border-radius:999px; border:1px solid #e5e7eb; font-size:.95rem; background:#f9fafb;
  transition: border-color .15s, box-shadow .15s, background-color .15s; outline:none;
}
.login-form .form-group input::placeholder { color:#9ca3af; }
.login-form .form-group input:focus { background:#fff; border-color:#6366f1; box-shadow:0 0 0 3px rgba(129,140,248,.35); }

.login-error {
  min-height:1.2em; margin:.15rem 0 .25rem; font-size:.83rem; color:#dc2626;
}

.login-button {
  margin-top:.2rem; padding:.65rem .8rem; border-radius:999px; border:none;
  background: linear-gradient(135deg,#4f46e5,#22c55e); color:#fff; font-weight:500; font-size:.95rem;
  cursor:pointer; display:inline-flex; align-items:center; justify-content:center; gap:.4rem;
  box-shadow:0 14px 32px rgba(79,70,229,.4); transition: transform .1s, box-shadow .1s, filter .15s;
}
.login-button:hover { filter:brightness(1.03); transform: translateY(-1px); box-shadow:0 18px 40px rgba(79,70,229,.45); }
.login-button:active { transform: translateY(0); box-shadow:0 8px 20px rgba(79,70,229,.4); }

.login-hint { margin:.4rem 0 0; font-size:.8rem; color:#6b7280; }
.login-hint strong { font-weight:600; }

.login-footer { border-top:1px solid #f3f4f6; padding-top:.8rem; margin-top:.2rem; font-size:.78rem; color:#9ca3af; }
.login-footer p { margin:0; text-align:center; }

/* ---------------------------
   Responsive
   --------------------------- */
@media (max-width: 1024px) {
  .kpi-section { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
  .dashboard-grid { grid-template-columns: minmax(0, 1.7fr) minmax(0, 1.4fr); }
} 

@media (max-width: 900px) {
  .app-wrapper { background: #e5e7eb; }
  .sidebar {
    position: fixed; inset: 0 auto 0 0; transform: translateX(-100%); transition: transform .25s ease;
    z-index:20; box-shadow: 18px 0 40px rgba(15,23,42,.4);
  }
  .sidebar.is-open { transform: translateX(0); }
  .sidebar-toggle { display:inline-flex; }

  .dashboard-main { padding:1.1rem 1.1rem 1.5rem; }
  .dashboard-header { flex-direction:column; align-items:flex-start; }
  .dashboard-grid { grid-template-columns: minmax(0, 1fr); }
  .analytics-panel { order:-1; }

  .login-page { flex-direction: column; }
  .login-hero { display:none; }
  .login-main { padding:1.75rem 1.1rem; }
  .login-card { max-width:460px; box-shadow:0 18px 40px rgba(15,23,42,.16); }
}

@media (max-width: 640px) {
  .kpi-section { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }

  .login-card { padding:1.8rem 1.4rem 1.6rem; border-radius:18px; }
  .login-card-header h2 { font-size:1.2rem; }
  .login-card-subtitle { font-size:.85rem; }
  .login-form .form-group input { font-size:.9rem; }
}